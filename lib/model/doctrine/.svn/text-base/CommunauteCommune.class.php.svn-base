<?php

/**
 * CommunauteCommune
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    roulezmailn_v3
 * @subpackage model
 * @author     RoulezMalin
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class CommunauteCommune extends BaseCommunauteCommune {

    public function __toString() {
        return $this->getNom();
    }



    /*
     * récupération des villes liés à la communauté de commune
     * @method VilleFr       getListeVilleLiee()           Retourne les villes de la communaute de commune
     * @return  VilleFr      $villeLiees                   retourne les villes
     */

    public function getListeVilleLiee() {

        $villeLiees = Doctrine_Query::create()
                ->from('VilleFr vfr')
                ->where('vfr.id_communaute = ?', $this->getIdCommunaute())
                ->fetchArray();

        return $villeLiees;
    }

    /*
     * récupération des villes liés à la communauté de commune
     * retourne un tableau des noms des villes
     * 
     * @method array       getListeVilleLieeTabNom()      Retourne un tableau des noms de villes de la communaute de commune
     * @return  array      $tabNomVille                   retourne un tableau des noms (de villes)
     */

    public function getListeVilleLieeTabNom() {

        $villeLiees = Doctrine_Query::create()
                ->from('VilleFr vfr')
                ->where('vfr.id_communaute = ?', $this->getIdCommunaute())
                ->execute()
        ;

        $tabNomVille = array();
        foreach ($villeLiees as $villeLiee) {
            $tabNomVille[] = $villeLiee->getNomVille();
        }

        return $tabNomVille;
    }



    /*
     * récupération des villes liés à la communauté de commune
     * retourne un tableau des id des villes
     *
     * @method array       getListeVilleLieeTabId()      Retourne un tableau des id de villes de la communaute de commune
     * @return  array      $tabIdVille                   retourne un tableau d'id (de villes)
     */

    public function getListeVilleLieeTabId() {

        $villeLiees = Doctrine_Query::create()
                ->from('VilleFr vfr')
                ->where('vfr.id_communaute = ?', $this->getIdCommunaute())
                ->execute()
        ;

        $tabIdVille = array();
        foreach ($villeLiees as $villeLiee) {
            $tabIdVille[] = $villeLiee->getIdVille();
        }

        return $tabIdVille;
    }

    /*
     * récupération des villes liés à la communauté de commune
     * retourne un tableau des Code Insee des villes
     *
     * @method array       getListeVilleLieeTabId()      Retourne un tableau des Code Insee de villes de la communaute de commune
     * @return  array      $tabCdInVille                   retourne un tableau Code Insee (de villes)
     */

    public function getListeVilleLieeTabCdIn() {

        $villeLiees = Doctrine_Query::create()
                ->from('VilleFr vfr')
                ->where('vfr.id_communaute = ?', $this->getIdCommunaute())
                ->execute()
        ;

        $tabCdInVille = array();
        foreach ($villeLiees as $villeLiee) {
            $tabCdInVille[] = $villeLiee->getCodeInsee();
        }

        return $tabCdInVille;
    }

    
}